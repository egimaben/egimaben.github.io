<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Play Framework Primer - Scaffolding &middot; Benedict Egima
    
  </title>

  <!-- CSS -->
  <!-- <link rel="stylesheet" href="//public/css/poole.css">
  <link rel="stylesheet" href="//public/css/syntax.css">
  <link rel="stylesheet" href="//public/css/hyde.css"> -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href=/public/css/poole.css>
  <link rel="stylesheet" href=/public/css/syntax.css>
  <link rel="stylesheet" href=/public/css/hyde.css>
  <link rel="stylesheet" href=/public/css/profile.css>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href=/public/profile.png>
                                 <link rel="shortcut icon" href=/public/profile.png>

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
    
            <div class="profile-container">

  
  <img class="avatar" src="/public/profile.png" alt="profile picture" />  
  <h2 class="uname">Benedict Egima Ayiko</h2>
   
  
  <h3 class="tagline">10 years from now, you will regret more the things you didn't do than those you did</h3>
  
  
  <h3 class="role">Senior Software Developer @Andela, Senior Backend Engineer @Coursera</h3>
  
</div>
<div class="contact-container container-block">
  <ul class="list-unstyled contact-list">
    
    <a href="mailto:">
    <li class="email">
      <i class="fas fa-envelope"></i>
    </li>
    </a>
     
     
    <li class="linkedin">
      <a href="https://linkedin.com/in/egimaben" target="_blank"><i class="fab fa-linkedin"></i></a>
    </li>
     
    <li class="github">
      
      <a href="http://github.com/egimaben" target="_blank"><i class="fab fa-github"></i></a>
    </li>
     
    <li class="twitter">
      <a href="https://twitter.com/egimaben" target="_blank"><i class="fab fa-twitter"></i></a>
    </li>
     
    <li class="stack-overflow">
      <a href="https://stackoverflow.com/users/3067615/egimaben" target="_blank"><i class="fab fa-stack-overflow"></i></a>
    </li>
    
  </ul>
</div>
      <!-- <h1>
        <a href="/">
          Benedict Egima
        </a>
      </h1>
      <p class="lead">10 years from now, you will regret more the things you didn't do than those you did</p> -->
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
      
        
          
        
      
      <span class="sidebar-nav-item">Currently v1.0.0</span>
    </nav>
    <p>&copy; 2020. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Play Framework Primer - Scaffolding</h1>
  <span class="post-date">03 Apr 2020</span>
  <p>In the <a href="/2019/04/23/play-scala-rest-from-scratch">previous article</a>, we created a very stripped down REST application with only one controller end point using Play framework and scala. We assembled it piece by piece while going a little deep into what purpose each component in the final directory structure does.</p>

<!--more-->

<p>We also learned how to add custom configurations and finally how to import the project into intellij for easier development.
With the bare basics clear, now we will proceed to learn more about play framework. I thought it best to build from the official Play framework template which has more components in the directory structure.</p>

<p>The example we used in the previous article was assembled from scratch to enable us to use only the critical files/directories without which it would not run.</p>

<p>By contrast, in the template we will use in this article, there will be more files/directories that may be important but not critical and we will keep diving deeper and swimming wider to learn more about how to build applications with play framework.</p>

<p>This article will form part 1 of a series am working on, all revolving around the basic template <a href="https://www.playframework.com/getting-started">offered</a> by the wonderful folks building the framework. I intend to cover scaffolding, routing, templating, logging, testing, database connection and more.</p>

<h2 id="create-a-play-application-with-sbt">Create a play application with sbt</h2>

<p>Most web frameworks heavily use build tools to make developersâ€™ lives easier, favoring the concept of convention over configuration.</p>

<p>With a build tool, you get access to commands to enable you do usually tedious tasks like compiling, fetching dependencies, building and testing your application.</p>

<p>Examples include maven, gradle, npm, yarn etc. The most popular build tool used by Play developers is <code class="language-plaintext highlighter-rouge">sbt</code>. Before that, we used one called <code class="language-plaintext highlighter-rouge">activator</code> and even before that, <code class="language-plaintext highlighter-rouge">Play</code>.</p>

<p>To create a new web application from a template, we use <code class="language-plaintext highlighter-rouge">sbt new &lt;template-name&gt;</code>. We will use the <code class="language-plaintext highlighter-rouge">playframework/play-scala-seed.g8</code> template as below:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">sbt</span> <span class="k">new</span> <span class="n">playframework</span><span class="o">/</span><span class="n">play</span><span class="o">-</span><span class="n">scala</span><span class="o">-</span><span class="nv">seed</span><span class="o">.</span><span class="py">g8</span></code></pre></figure>

<p>After this command, you will be prompted for a project name which will default to <code class="language-plaintext highlighter-rouge">play-scala-seed</code> if you by pass and just press enter. For this example, input <code class="language-plaintext highlighter-rouge">play-scaffold-basic</code>.</p>

<p>You will also be asked for organization name which should be your package root by convention. I used <code class="language-plaintext highlighter-rouge">io.egimaben</code>.</p>

<p>To bypass the prompts and create your application in one command, you can provide param names for them as below:</p>

<figure class="highlight"><pre><code class="language-scala" data-lang="scala"><span class="n">sbt</span> <span class="k">new</span> <span class="n">playframework</span><span class="o">/</span><span class="n">play</span><span class="o">-</span><span class="n">scala</span><span class="o">-</span><span class="nv">seed</span><span class="o">.</span><span class="py">g8</span> <span class="o">--</span><span class="n">name</span><span class="k">=</span><span class="n">play</span><span class="o">-</span><span class="n">scaffold</span><span class="o">-</span><span class="n">basic</span> <span class="o">--</span><span class="n">organization</span><span class="k">=</span><span class="nv">io</span><span class="o">.</span><span class="py">egimaben</span></code></pre></figure>

<p>I should mention that the template name should be a valid git repo as <code class="language-plaintext highlighter-rouge">sbt</code> will have to clone it and seed off that. That means that you can also create your own template/seed/scaffold to suit your needs and probably share with the world</p>

<h2 id="run-application">Run Application</h2>

<p>The template is now applied and the project is ready to run. I will not spend time on commands we already covered in the <a href="/2019/04/23/play-scala-rest-from-scratch">previous article</a>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">cd </span>play-scaffold-basic <span class="o">&amp;&amp;</span> sbt run</code></pre></figure>

<p>When the above commands finish executing, you can visit the page at <code class="language-plaintext highlighter-rouge">http://localhost:9000</code> or replace <code class="language-plaintext highlighter-rouge">9000</code> with whichever port the server has provided.</p>

<h2 id="directory-structure">Directory structure</h2>

<p>Now let us take a look at the resulting directory structure:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">|play-scaffold-basic
|____app
| |____controllers
| | |____HomeController.scala
| |____views
| | |____main.scala.html
| | |____index.scala.html
|____test
| |____controllers
| | |____HomeControllerSpec.scala
|____project
| |____build.properties
| |____plugins.sbt
|____public
| |____images
| | |____favicon.png
| |____javascripts
| | |____main.js
| |____stylesheets
| | |____main.css
|____logs
| |____application.log
|____.gitignore
|____conf
| |____logback.xml
| |____messages
| |____application.conf
| |____routes
|____build.sbt</code></pre></figure>

<p>There are several files and directories that were not present in the stripped down example we used in the <a href="/2019/04/23/play-scala-rest-from-scratch">previous article</a>, we will focus on these.</p>

<p>We can immediately see that this is a more complete web application than the previous with tests, a log file, more configuration options plus more. 
Letâ€™s explore some of these in more depth.</p>

<h3 id="views">Views</h3>
<p>The template we used provides a near complete MVC (model-view-controller) style example. In our example there is no <code class="language-plaintext highlighter-rouge">models</code> directory but there is now both <code class="language-plaintext highlighter-rouge">controllers</code> and <code class="language-plaintext highlighter-rouge">views</code>.</p>

<p><code class="language-plaintext highlighter-rouge">models</code> should be in the same hierarchy under <code class="language-plaintext highlighter-rouge">app</code> but the simplicity of this template does not warrant its presence.
The <code class="language-plaintext highlighter-rouge">views</code> directory is where <code class="language-plaintext highlighter-rouge">html</code> style templates live and they power the front end of our application.</p>

<p>They interact seamlessly with the controllers using scala as we will see with more detail in a later part of this series.</p>

<h3 id="test">Test</h3>
<p>The <code class="language-plaintext highlighter-rouge">test</code> directory is where all automated tests you write will reside. Conventionally, the package and file names of the files you are testing should be reflected in the <code class="language-plaintext highlighter-rouge">tests</code> directory.</p>

<p>In our project, we only have one controller called <code class="language-plaintext highlighter-rouge">HomeController</code> which is in the default package i.e. no package name. So its test file is called <code class="language-plaintext highlighter-rouge">HomeControllerSpec</code>.</p>

<p>I personally prefer to name it <code class="language-plaintext highlighter-rouge">HomeControllerTest</code>.
If for example, our controller was in a package like <code class="language-plaintext highlighter-rouge">io.egimaben.HomeController</code>, my test file would be <code class="language-plaintext highlighter-rouge">io.egimaben.HomeControllerTest</code>. This kind of organization brings more clarity to a project.</p>

<h3 id="public">Public</h3>
<p>This directory contains your front end resources i.e. images, javascript and css. These are used by the views.</p>

<h3 id="logs">Logs</h3>
<p>Application log files reside in the <code class="language-plaintext highlighter-rouge">logs</code> directory. We will see later how to do more customizations fit for a production grade application.</p>

<h3 id="conf">Conf</h3>
<p>The configuration directory was covered in the <a href="/2019/04/23/play-scala-rest-from-scratch">previous article</a> but since there are more files in this case than before, we will discuss abit about them.</p>

<p>Play will use <code class="language-plaintext highlighter-rouge">logback.xml</code> as the single source of truth for logging configuration. We will go into further details in a later part of the series.</p>

<p>By default, the file looks like below and this defines the default state of config used by Play:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;configuration&gt;</span>

  <span class="nt">&lt;conversionRule</span> <span class="na">conversionWord=</span><span class="s">"coloredLevel"</span> <span class="na">converterClass=</span><span class="s">"play.api.libs.logback.ColoredLevel"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"FILE"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.FileAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;file&gt;</span>${application.home:-.}/logs/application.log<span class="nt">&lt;/file&gt;</span>
    <span class="nt">&lt;encoder&gt;</span>
      <span class="nt">&lt;charset&gt;</span>UTF-8<span class="nt">&lt;/charset&gt;</span>
      <span class="nt">&lt;pattern&gt;</span>
        %d{yyyy-MM-dd HH:mm:ss} %highlight(%-5level) %cyan(%logger{36}) %magenta(%X{akkaSource}) %msg%n
      <span class="nt">&lt;/pattern&gt;</span>
    <span class="nt">&lt;/encoder&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"STDOUT"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.core.ConsoleAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;withJansi&gt;</span>true<span class="nt">&lt;/withJansi&gt;</span>
    <span class="nt">&lt;encoder&gt;</span>
      <span class="nt">&lt;charset&gt;</span>UTF-8<span class="nt">&lt;/charset&gt;</span>
      <span class="nt">&lt;pattern&gt;</span>
        %d{yyyy-MM-dd HH:mm:ss} %highlight(%-5level) %cyan(%logger{36}) %magenta(%X{akkaSource}) %msg%n
      <span class="nt">&lt;/pattern&gt;</span>
    <span class="nt">&lt;/encoder&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"ASYNCFILE"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.AsyncAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"FILE"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;appender</span> <span class="na">name=</span><span class="s">"ASYNCSTDOUT"</span> <span class="na">class=</span><span class="s">"ch.qos.logback.classic.AsyncAppender"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"STDOUT"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/appender&gt;</span>

  <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"play"</span> <span class="na">level=</span><span class="s">"INFO"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;logger</span> <span class="na">name=</span><span class="s">"application"</span> <span class="na">level=</span><span class="s">"DEBUG"</span> <span class="nt">/&gt;</span>

  <span class="nt">&lt;root</span> <span class="na">level=</span><span class="s">"WARN"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!--&lt;appender-ref ref="ASYNCFILE" /&gt;--&gt;</span>
    <span class="nt">&lt;appender-ref</span> <span class="na">ref=</span><span class="s">"ASYNCSTDOUT"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/root&gt;</span>

<span class="nt">&lt;/configuration&gt;</span></code></pre></figure>

<p>The <code class="language-plaintext highlighter-rouge">messages</code> file is used for internationalization and multi-language support as we will see in another article.</p>

<h2 id="conclusion">Conclusion</h2>
<p>In this article, we scaffolded a working play application using an existing template. It extends the <a href="/2019/04/23/play-scala-rest-from-scratch">previous article</a> where we built an application from scratch.</p>

<p>Here, we looked at a more fleshy web app with more of features one would typically need in a real production application.
As I said at the beginning, this is part 1 of a series, next, we will cover routing.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2019/04/23/play-scala-rest-from-scratch/">
            Play 2.7 Scala REST API from scratch With SBT
            <small>23 Apr 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2019/02/20/manipulating-dates-with-calendar-class/">
            Manipulating Dates with Calendar Class
            <small>20 Feb 2019</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2019/02/18/a-simple-guide-for-java-util-date/">
            A Simple Guide for Java.util.Date
            <small>18 Feb 2019</small>
          </a>
        </h3>
      </li>
    
    
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = "https://egimaben.github.io/2020/04/03/play-framework-primer-scaffolding/";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "/2020/04/03/play-framework-primer-scaffolding"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://egimaben-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  </ul>
</div>

    </div>
    
  </body>
</html>
